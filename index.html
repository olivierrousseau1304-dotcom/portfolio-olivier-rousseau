<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="Portfolio et CV d’Olivier Rousseau — prépa, cybersécurité, SOC, automatisation." />
        <meta name="author" content="Olivier Rousseau" />
        <title>Olivier Rousseau — CV • Cybersécurité & SOC</title>

        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        
        <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
        
        <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
        
        <link href="css/styles.css" rel="stylesheet" />

        <style>
            /* Override to remove the masthead background image */
            header.masthead { background: transparent !important; position: relative; }

            /* Fullscreen animated tech/network background */
            #bg-network {
                position: fixed;
                inset: 0;
                width: 100vw;
                height: 100vh;
                display: block;
                z-index: -1; /* behind all content */
                /* Fallback gradient if canvas not supported */
                background: radial-gradient(1000px 600px at 15% 20%, rgba(0, 255, 224, 0.06), transparent 60%),
                            radial-gradient(800px 500px at 85% 10%, rgba(0, 140, 255, 0.06), transparent 60%),
                            radial-gradient(900px 700px at 50% 80%, rgba(49, 118, 123, 0.08), transparent 60%),
                            linear-gradient(180deg, #0b1220 0%, #0f1b2a 50%, #0b1522 100%);
            }

            /* Improve text readability over dynamic background */
            header.masthead .text-white,
            header.masthead h1,
            header.masthead p { text-shadow: 0 2px 12px rgba(0,0,0,0.45); }

            /* Boost contrast and add subtle neon glow in header only */
            header.masthead h1 {
                color: #ffffff;
                text-shadow:
                    0 0 10px rgba(0, 200, 255, 0.35),
                    0 0 22px rgba(49, 118, 123, 0.35),
                    0 2px 14px rgba(0,0,0,0.55);
            }
            header.masthead .text-white-75 { color: rgba(255,255,255,0.88) !important; }
            header.masthead .btn.btn-primary {
                box-shadow: 0 6px 24px rgba(0, 200, 255, 0.20), 0 2px 8px rgba(0,0,0,0.25);
            }
            header.masthead .btn.btn-primary:hover {
                box-shadow: 0 10px 30px rgba(0, 200, 255, 0.32), 0 6px 16px rgba(0,0,0,0.35);
            }

            /* Navbar contrast on dark header before shrink */
            #mainNav:not(.navbar-shrink) {
                background: transparent !important;
            }
            #mainNav:not(.navbar-shrink) .navbar-brand,
            #mainNav:not(.navbar-shrink) .nav-link {
                color: rgba(255,255,255,0.95) !important;
                text-shadow: 0 0 8px rgba(49,118,123,0.55), 0 2px 10px rgba(0,0,0,0.45);
            }
            #mainNav:not(.navbar-shrink) .nav-link:hover {
                color: #00d1ff !important;
            }
            /* Mobile toggler visible on dark */
            #mainNav:not(.navbar-shrink) .navbar-toggler { border-color: rgba(255,255,255,0.55); }
            #mainNav:not(.navbar-shrink) .navbar-toggler-icon {
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255,255,255,0.92)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
            }

            /* === Lisibilité accrue + effet neon pour Services et Contact === */
            #services, #contact {
                position: relative;
                color: rgba(255,255,255,0.92);
                background:
                  radial-gradient(800px 500px at 20% 10%, rgba(0, 200, 255, 0.06), transparent 60%),
                  radial-gradient(700px 600px at 80% 90%, rgba(49, 118, 123, 0.08), transparent 60%),
                  linear-gradient(180deg, rgba(9,17,30,0.85) 0%, rgba(11,21,34,0.88) 100%);
                border-top: 1px solid rgba(0, 200, 255, 0.07);
                border-bottom: 1px solid rgba(0, 200, 255, 0.07);
                box-shadow: inset 0 1px 0 rgba(255,255,255,0.02), 0 10px 24px rgba(0,0,0,0.25);
            }
            #services h2, #contact h2 {
                color: #ffffff;
                text-shadow: 0 0 10px rgba(0, 200, 255, 0.35), 0 0 22px rgba(49,118,123,0.35), 0 2px 12px rgba(0,0,0,0.5);
            }
            #services h3, #services .h4, #contact h3, #contact .h4 {
                color: #eaf9ff;
                text-shadow: 0 0 8px rgba(0, 200, 255, 0.25), 0 2px 8px rgba(0,0,0,0.45);
            }
            #services p, #services .text-muted,
            #contact p, #contact .text-muted, #contact .small {
                color: rgba(255,255,255,0.88) !important;
                text-shadow: 0 1px 8px rgba(0,0,0,0.35);
            }
            /* Icônes de la grille Services: glow discret */
            #services i.fs-1 {
                color: #00d1ff !important;
                text-shadow: 0 0 10px rgba(0, 200, 255, 0.45), 0 0 18px rgba(49,118,123,0.35);
            }
            /* Boutons dans ces sections */
            #services .btn-primary, #contact .btn-primary {
                box-shadow: 0 8px 30px rgba(0, 200, 255, 0.22), 0 3px 10px rgba(0,0,0,0.3);
            }
            #services .btn-primary:hover, #contact .btn-primary:hover {
                box-shadow: 0 12px 36px rgba(0, 200, 255, 0.32), 0 6px 16px rgba(0,0,0,0.35);
            }
            /* Formulaire: conserver les champs clairs mais renforcer lisibilité des labels et placeholders */
            #contact label { color: rgba(255,255,255,0.9); }
            #contact .form-control::placeholder { color: rgba(0,0,0,0.55); }
        </style>
    </head>
    <body id="page-top">
        <!-- Animated tech/network background canvas -->
        <canvas id="bg-network" aria-hidden="true"></canvas>
        
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand custom-brand" href="#page-top">Olivier ROUSSEAU</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto my-2 my-lg-0">
                        <li class="nav-item"><a class="nav-link" href="#about">À propos de moi</a></li>
                        <li class="nav-item"><a class="nav-link" href="#services">Compétences</a></li>
                        <li class="nav-item"><a class="nav-link" href="#portfolio">Projets</a></li>
                        <li class="nav-item"><a class="nav-link" href="#cv">CV</a></li>
                        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        
        <header class="masthead">
            <div class="container px-4 px-lg-5 h-100">
                <div class="row gx-4 gx-lg-5 h-100 align-items-center justify-content-center text-center">
                    <div class="col-lg-8 align-self-end">
                        <h1 class="text-white font-weight-bold">Bienvenue dans le Portfolio d’Olivier Rousseau</h1>
                        <hr class="divider" />
                    </div>
                    <div class="col-lg-8 align-self-baseline">
                        <p class="text-white-75 mb-5">“L’homme a bâti des outils, et aujourd’hui les outils bâtissent l’homme.”<br>
                        <em>— Inspiré de Marshall McLuhan</em></p>
                        <a class="btn btn-primary btn-xl" href="#about">En savoir plus</a>
                    </div>
                </div>
            </div>
        </header>
        
        <section class="page-section bg-primary" id="about">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8 text-center">
                        <h2 class="text-white mt-0">À Propos de moi</h2>
                        <hr class="divider divider-light" />
                        <p class="text-white-75 mb-4">Je suis Français, d'origine polonaise. Passionné d'informatique depuis que je suis tout petit, je développais des petits plugins en Lua et en Java sur Gmod et Minecraft. Aujourd'hui, j'ai décidé de m'orienter en cybersécurité en voyant les nombreux défis et enjeux qui concernent la protection des données.</p>
                        <a class="btn btn-light btn-xl" href="#services">En apprendre davantage...</a>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="page-section" id="services">
            <div class="container px-4 px-lg-5">
                <h2 class="text-center mt-0">Mes Centres d'Intérêts !</h2>
                <hr class="divider" />
                <div class="row gx-4 gx-lg-5">
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <div class="mb-2"><i class="bi-gear fs-1 text-primary"></i></div>
                            <h3 class="h4 mb-2">Rigueur de pr&eacute;pa</h3>
                            <p class="text-muted mb-0">M&eacute;thodique et pers&eacute;v&eacute;rant&nbsp;: analyse, plan, ex&eacute;cution, v&eacute;rification. Solide en maths/algorithmique pour d&eacute;composer et optimiser.</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <div class="mb-2"><i class="bi-shield-lock fs-1 text-primary"></i></div>
                            <h3 class="h4 mb-2">Analyse SOC &amp; D&eacute;tection</h3>
                            <p class="text-muted mb-0">Triage d&rsquo;alertes, corr&eacute;lation d&rsquo;&eacute;v&eacute;nements, r&egrave;gles SIEM (Sigma/KQL), priorit&eacute;s claires et rapports exploitables.</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <div class="mb-2"><i class="bi-search fs-1 text-primary"></i></div>
                            <h3 class="h4 mb-2">Threat Hunting &amp; Cyber</h3>
                            <p class="text-muted mb-0">IOC, analyse r&eacute;seau/logs, TTP MITRE ATT&amp;CK, hypoth&egrave;ses et pivots pour remonter &agrave; la cause racine.</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <div class="mb-2"><i class="bi-code-slash fs-1 text-primary"></i></div>
                            <h3 class="h4 mb-2">Automatisation &amp; Outils</h3>
                            <p class="text-muted mb-0">Scripts Python/Bash, parsers de logs, enrichissement IOC, dashboards et petits outils pour gagner en efficacit&eacute;.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <div id="portfolio">
            <div class="container-fluid p-0">
                <div class="row g-0">
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" href="assets/img/portfolio/fullsize/1.jpg" title="Project Name">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/1.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Projet 1</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" href="assets/img/portfolio/fullsize/2.jpg" title="Project Name">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/2.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Projet 2</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" href="assets/img/portfolio/fullsize/3.jpg" title="Project Name">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/3.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Projet 3</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" href="assets/img/portfolio/fullsize/4.jpg" title="Project Name">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/4.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Projet 4</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" href="assets/img/portfolio/fullsize/5.jpg" title="Project Name">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/5.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Projet 5</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" href="assets/img/portfolio/fullsize/6.jpg" title="Project Name">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/6.jpg" alt="..." />
                            <div class="portfolio-box-caption p-3">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Projet 6</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <section class="page-section bg-primary" id="cv">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8 text-center">
                        <h2 class="text-white mt-0">Mon CV</h2>
                        <hr class="divider divider-light" />
                        <p class="text-white-75 mb-4">Découvrez mon parcours, mes formations et mon expérience professionnelle dans mon curriculum vitae complet.</p>
                    </div>
                </div>
                <div class="row gx-4 gx-lg-5 justify-content-center align-items-center">
                    <div class="col-lg-6 text-center mb-4 mb-lg-0">
                        <div class="cv-preview">
                            <img class="img-fluid rounded shadow-lg" src="./resources/CV_OLIVIER.jpg" alt="Aperçu du CV d'Olivier Rousseau" style="max-height: 600px; border: 3px solid rgba(255,255,255,0.2);" />
                        </div>
                    </div>
                    <div class="col-lg-6 text-center">
                        <div class="cv-actions">
                            <h4 class="text-white mb-4">Télécharger mon CV</h4>
                            <p class="text-white-75 mb-4">Consultez mon CV complet pour découvrir en détail mon parcours académique, mes compétences techniques et mon expérience professionnelle.</p>
                            <a class="btn btn-light btn-xl mb-3" href="./resources/CV_OLIVIER.pdf" download="CV_Olivier_Rousseau.pdf">
                                <i class="bi-download me-2"></i>
                                Télécharger le PDF
                            </a>
                            <br>
                            <a class="btn btn-outline-light btn-lg" href="./resources/CV_OLIVIER.pdf" target="_blank">
                                <i class="bi-eye me-2"></i>
                                Visualiser en ligne
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="page-section bg-dark text-white">
            <div class="container px-4 px-lg-5 text-center">
                <h2 class="mb-4">Mon école : CESI</h2>
                <a class="btn btn-light btn-xl" href="https://www.cesi.fr/">Accéder au site...</a>
            </div>
        </section>
        
        <section class="page-section" id="contact">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8 col-xl-6 text-center">
                        <h2 class="mt-0">Entrons en contact</h2>
                        <hr class="divider" />
                        <p class="text-muted mb-5">Une question, une opportunité ou simplement l’envie d’échanger ?  
                                                    Laissez-moi un message et je vous répondrai dès que possible.</p>
                    </div>
                </div>
                <div class="row gx-4 gx-lg-5 justify-content-center mb-5">
                    <div class="col-lg-6">
                        <!-- * * * * * * * * * * * * * * *-->
                        
                        <form id="contactForm" novalidate>
  <!-- Nom (obligatoire) -->
  <div class="form-floating mb-3">
    <input class="form-control" id="name" type="text" placeholder="Votre nom complet" required />
    <label for="name">Votre nom complet *</label>
    <div class="invalid-feedback">Merci de renseigner votre nom.</div>
  </div>

  <!-- Email (optionnel) -->
  <div class="form-floating mb-3">
    <input class="form-control" id="email" type="email" placeholder="Adresse e-mail (optionnelle)" />
    <label for="email">Adresse e-mail (optionnelle)</label>
    <div class="invalid-feedback">Adresse e-mail invalide.</div>
  </div>

  <!-- Téléphone (optionnel) -->
  <div class="form-floating mb-3">
    <input class="form-control" id="phone" type="tel" placeholder="Numéro de téléphone (optionnel)" />
    <label for="phone">Numéro de téléphone (optionnel)</label>
    <div class="invalid-feedback">Numéro de téléphone invalide.</div>
  </div>

  <!-- Message (obligatoire) -->
  <div class="form-floating mb-3">
    <textarea class="form-control" id="message" placeholder="Votre message..." style="height:10rem" required></textarea>
    <label for="message">Votre message *</label>
    <div class="invalid-feedback">Merci d’écrire un message.</div>
  </div>

  <!-- Règle : e-mail OU téléphone requis -->
  <div class="small text-muted mb-3">* Nom et message requis. Laissez au moins un moyen de contact (e-mail <em>ou</em> téléphone).</div>

  <div class="d-grid">
    <button class="btn btn-primary btn-xl" id="submitBtn" type="submit">Envoyer</button>
  </div>
</form>

<!-- Zone d’alerte -->
<div id="formAlert" class="alert d-none mt-3" role="alert"></div>

                    </div>
                </div>
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-4 text-center mb-5 mb-lg-0">
                        <i class="bi-phone fs-2 mb-3 text-muted"></i>
                        <div>+33 7 69 27 08 15</div>
                    </div>
                </div>
            </div>
        </section>
        
        <footer class="bg-light py-5">
            <div class="container px-4 px-lg-5"><div class="small text-center text-muted">Copyright &copy; 2025 - Olivier Rousseau</div></div>
        </footer>
        
        <script>
            // Lightweight animated network background
            (function () {
                const canvas = document.getElementById('bg-network');
                if (!canvas || !canvas.getContext) return;
                const ctx = canvas.getContext('2d');

                let dpr = Math.min(window.devicePixelRatio || 1, 2);
                let width = 0, height = 0;
                let particles = [];
                let mouse = { x: null, y: null, active: false };

                function resize() {
                    width = window.innerWidth;
                    height = window.innerHeight;
                    const cw = Math.floor(width * dpr);
                    const ch = Math.floor(height * dpr);
                    if (canvas.width !== cw) canvas.width = cw;
                    if (canvas.height !== ch) canvas.height = ch;
                    canvas.style.width = width + 'px';
                    canvas.style.height = height + 'px';
                    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

                    // Recompute particle count on resize for consistent density
                    const target = Math.min(160, Math.max(60, Math.floor((width * height) / 17000)));
                    if (particles.length > target) particles.length = target;
                    while (particles.length < target) particles.push(makeParticle());
                }

                function rand(min, max) { return Math.random() * (max - min) + min; }
                function makeParticle() {
                    const speed = rand(0.2, 0.6);
                    const angle = rand(0, Math.PI * 2);
                    return {
                        x: rand(0, width),
                        y: rand(0, height),
                        vx: Math.cos(angle) * speed,
                        vy: Math.sin(angle) * speed,
                        r: rand(0.6, 1.8)
                    };
                }

                function step() {
                    // Subtle background fade for trail effect
                    ctx.fillStyle = 'rgba(10, 18, 32, 0.20)';
                    ctx.fillRect(0, 0, width, height);

                    // Update positions and draw nodes
                    ctx.save();
                    for (let i = 0; i < particles.length; i++) {
                        const p = particles[i];
                        p.x += p.vx;
                        p.y += p.vy;

                        // Bounce off edges
                        if (p.x < 0 || p.x > width) p.vx *= -1;
                        if (p.y < 0 || p.y > height) p.vy *= -1;

                        // Draw node
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                        ctx.fillStyle = 'rgba(45, 227, 255, 0.35)';
                        ctx.shadowColor = 'rgba(0, 200, 255, 0.25)';
                        ctx.shadowBlur = 8;
                        ctx.fill();
                    }

                    // Draw connections
                    const maxDist = Math.min(140, Math.max(90, Math.hypot(width, height) / 20));
                    const maxDist2 = maxDist * maxDist;
                    ctx.lineWidth = 1;
                    for (let i = 0; i < particles.length; i++) {
                        for (let j = i + 1; j < particles.length; j++) {
                            const dx = particles[i].x - particles[j].x;
                            const dy = particles[i].y - particles[j].y;
                            const d2 = dx * dx + dy * dy;
                            if (d2 < maxDist2) {
                                const t = 1 - d2 / maxDist2; // 0..1
                                ctx.strokeStyle = `rgba(49, 118, 123, ${0.35 * t})`;
                                ctx.beginPath();
                                ctx.moveTo(particles[i].x, particles[i].y);
                                ctx.lineTo(particles[j].x, particles[j].y);
                                ctx.stroke();
                            }
                        }
                    }

                    // Mouse interactions
                    if (mouse.active) {
                        for (let i = 0; i < particles.length; i++) {
                            const dx = particles[i].x - mouse.x;
                            const dy = particles[i].y - mouse.y;
                            const d2 = dx * dx + dy * dy;
                            const mDist = maxDist * 1.2;
                            if (d2 < mDist * mDist) {
                                const t = 1 - d2 / (mDist * mDist);
                                ctx.strokeStyle = `rgba(0, 200, 255, ${0.45 * t})`;
                                ctx.beginPath();
                                ctx.moveTo(particles[i].x, particles[i].y);
                                ctx.lineTo(mouse.x, mouse.y);
                                ctx.stroke();
                            }
                        }
                    }
                    ctx.restore();

                    requestAnimationFrame(step);
                }

                // Events
                window.addEventListener('resize', resize);
                window.addEventListener('mousemove', (e) => {
                    mouse.x = e.clientX;
                    mouse.y = e.clientY;
                    mouse.active = true;
                });
                window.addEventListener('mouseout', () => { mouse.active = false; });
                window.addEventListener('blur', () => { mouse.active = false; });

                // Init
                resize();
                requestAnimationFrame(step);
            })();
        </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
        
        <script src="js/scripts.js"></script>
        
    </body>
</html>
<script>
(() => {
  const form = document.getElementById('contactForm');
  const alertBox = document.getElementById('formAlert');
  const submitBtn = document.getElementById('submitBtn');

  const $ = (id) => document.getElementById(id);

  const emailOk = (v) => !v || /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i.test(v);
  const phoneOk = (v) => !v || /^[0-9+\s().-]{6,}$/.test(v);

  function setInvalid(input, msg) {
    input.classList.add('is-invalid');
    const fb = input.parentElement.querySelector('.invalid-feedback');
    if (fb && msg) fb.textContent = msg;
  }
  function clearInvalid(input) {
    input.classList.remove('is-invalid');
  }
  function showAlert(type, msg) {
    alertBox.className = 'alert mt-3 alert-' + type;
    alertBox.textContent = msg;
  }
  function hideAlert() {
    alertBox.className = 'alert d-none mt-3';
    alertBox.textContent = '';
  }

  // Validation dynamique
  ['name','email','phone','message'].forEach(id => {
    $(id).addEventListener('input', () => clearInvalid($(id)));
  });

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    hideAlert();

    const name = $('name').value.trim();
    const email = $('email').value.trim();
    const phone = $('phone').value.trim();
    const message = $('message').value.trim();

    let valid = true;

    // Champs obligatoires
    if (!name) { setInvalid($('name'), 'Merci de renseigner votre nom.'); valid = false; }
    if (!message) { setInvalid($('message'), 'Merci d’écrire un message.'); valid = false; }

    // Un moyen de contact requis
    if (!email && !phone) {
      setInvalid($('email'), 'Indiquez un e-mail ou un téléphone.');
      setInvalid($('phone'), 'Indiquez un e-mail ou un téléphone.');
      valid = false;
    }

    // Formats
    if (!emailOk(email))  { setInvalid($('email'), 'Adresse e-mail invalide.'); valid = false; }
    if (!phoneOk(phone))  { setInvalid($('phone'), 'Numéro de téléphone invalide.'); valid = false; }

    if (!valid) return;

    // Envoi vers ton script Google Apps Script
    submitBtn.disabled = true;
    submitBtn.textContent = 'Envoi…';

    try {
     const SCRIPT_URL = 'https://oliv-sheet-cors-on-silent-limit-e69a.olivier-rousseau1304.workers.dev/';



      const res = await fetch(SCRIPT_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, email, phone, message })
      });

      const data = await res.json().catch(() => ({}));

      if (res.ok && data && data.success) {
        showAlert('success', '✅ Message envoyé avec succès !');
        form.reset();
      } else {
        showAlert('danger', '❌ Une erreur est survenue. Réessayez plus tard.');
      }
    } catch (err) {
      console.error(err);
      showAlert('danger', '❌ Impossible de contacter le serveur. Réessayez plus tard.');
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = 'Envoyer';
    }
  });
})();
</script>
